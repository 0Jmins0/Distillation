# Distillation

## STEP 1 特征提取
### 数据集 ModelNet40_180
数据集描述：有 $a$ 个类别，每个类别有 $b_i$ 个实例，每个实例有 $180$ 张视图

特征提取：
1. 每张视图提出一个一定规格的矩阵 $A_i$
2. 将每个矩阵 $A_i$ 压缩成一个 $(x,)$ 的一维向量，得到 $180$ 个特征向量
3. 将 $180$ 张视图的特征向量取均值，得到一个 $(x,)$ 的特征向量
4. 最终合并每个实例、每个类别，得到 $(x , a , b)$ 规格的特征矩阵


||CLIP|SAM|DINOv2|
|----|----|----|----|
|modele|ViT-B/32|ViT-L|dinov2_vits14|
|Input_Size|(224,224)|(1024,1024)|(1024 // 14 * 14, 1024 // 14 * 14)|
|特征|encode_image|image_encoder|x_prenorm(归一化之前的特征)|
|Output_Size_Before|(180, 512)|(180, 256, 64, 64)|(180, 5330, 384)|
|Output_Size_Mean_Flatten|(512,)|(1048576,)|(2046720,)|
|Output_Size_After(每个类别目前只传了3个实例)|(3, 512)|(3,1048576)|(3, 2046720)|
|range(肉眼看)|(-1e-1,1e-1)|(-1e-2,1e-2)|(-1e-1,1e-1)|

**Q:**
* 每个模型都有好多，S/B/L，怎么选择
* 对于每一个模型，具体应该提取哪一部分特征，是需要边做边实验哪个好嘛
